<ion-content #content scroll-y="true">
  <ion-item>
    <ion-avatar slot="start">
      <img [src]="chat?.imagen || 'assets/images/chat.png'" alt="Imagen del chat"/>
    </ion-avatar>

    <ion-label>
      <h2>Chat Grupal de: {{chat?.nombre}}</h2>
    </ion-label>
  </ion-item>

  <ion-card>
    <ion-list>
      <ion-item lines="none" *ngFor="let m of mensajes">
        <ion-avatar slot="start" *ngIf="m.usuarioId === usuarioId">
          <img class="perfil-imagen" [src]="m.imagen || 'data:image/jpeg;base64,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'">
        </ion-avatar>
        <ion-label class="message-bubble mensaje-propio" *ngIf="m.usuarioId === usuarioId">
          {{ m.mensaje }}
        </ion-label>

        <ion-avatar slot="end" *ngIf="m.usuarioId !== usuarioId">
          <img class="perfil-imagen" [src]="m.imagen || 'data:image/jpeg;base64,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'">
        </ion-avatar>
        <ion-label class="message-bubble mensaje-ajeno" slot="end" *ngIf="m.usuarioId !== usuarioId">
          {{ m.mensaje }}
        </ion-label>

      </ion-item>
    </ion-list>
  </ion-card>

  <ion-item class="chat-input">
    <ion-input placeholder="Escribe un mensaje..." [(ngModel)]="nuevoMensaje"></ion-input>
    <ion-button fill="clear" color="primary" (click)="enviarMensaje()">➤</ion-button>
  </ion-item>
</ion-content>
